<div class="status-grid align-items-start clearfix mb-1">
    <div class="flex-column status-grid-data-header-column flex-column">
        <div class="status-grid-data-header-spacer">&nbsp;</div>
        <div class="status-grid-data-player-row-header">Bank:</div>
        <div class="status-grid-data-player-row-header">Stock:</div>
        <div class="status-grid-data-player-row-header">Net Worth:</div>
    </div>
    @foreach (var p in TheGame.Players)
    {
        <div class="flex-column status-grid-player-panel">
            <div class="status-grid-player-box @(GameStateObj.PlayerTurn == p.Key ? "status-grid-player-box-active" : "") flex-column ">
                <div class="status-grid-player-name-panel">

                    <div class="status-grid-player-name">@(p.Value.Name)</div>
                    <div class="status-grid-player-icon">@((MarkupString)PlayerIcon(p.Key))</div>
                </div>
                <div class="status-grid-data-cell">@p.Value.Money.ToString("C0")</div>
                <div class="status-grid-data-cell">@TheGame.PlayerStockWorth(p.Key).ToString("C0")</div>
                <div style="display:flex; flex-direction:row; justify-content:space-between;">
                    <div class="medal rank-@(TheGame.PlayerRank(p.Key))">@(TheGame.PlayerRank(p.Key))<sup>@(PlaceSuffix(TheGame.PlayerRank(p.Key)))</sup></div>
                    <div class="status-grid-data-cell">@TheGame.PlayerNetWorth(p.Key).ToString("C0")</div>
                </div>

            </div>
        </div>
    }
</div>

@code {
    [Parameter]
    public Game TheGame { get; set; }

    [Parameter]
    public GameStateObject GameStateObj { get; set; }

    private const string RobotIconPath = "css/font-awesome/robot.svg";
    private string PlayerIcon(int Id)
    {
        if (TheGame.Players[Id].IsComputer)
            return "<img src=" + (char)34 + RobotIconPath + (char)34 + " width=" + (char)34 + "16" + (char)34 + " height=" + (char)34 + "16" + (char)34 + " alt=" + (char)34 + "C" + (char)34 + " />";
        else
            return "";
    }

    private string PlaceSuffix(int rank)
    {
        if (rank == 1)
            return "st";
        else if (rank == 2)
            return "nd";
        else if (rank == 3)
            return "rd";
        else
            return "th";
    }
}


